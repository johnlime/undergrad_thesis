\chapter{Approach} \label{ch:approach}
Our research purpose is to verify whether preliminary hypotheses regarding the functionalities of head-bobbing, particularly visual stabilization and motion parallax, are sufficient to cause such behavior. We would like to examine whether there are possibilities of other causes or functionalities that may contribute to generating such particular movements.

% def of pigeon model
\section{Definition of the Pigeon Model}
  We define a simplified 2-dimensional model of pigeons which acts as the first step in the process of incremental modeling. The pigeon model consists of 3 joints connecting 1 body representing the head, 2 bodies representing the neck, and 1 body representing the torso. The model's physics, mainly the collision and gravity, is simulated in a 2 dimensional physics engine. The torso's orientation and y-position is fixed while its x-position is incremented by a constant value. This represents forward locomotion at a constant speed.

  Additionally, we build control systems for the model using deep reinforcement learning. By using deep reinforcement learning, we can train the controller to maximize reward functions that represent hypotheses or manually-defined trajectories for the bodies in the model to follow.

\section{Baseline: Manually-Defined Head Trajectory}
  As the baseline for the model's control system, we attempt to recreate the head-bob movement by setting a target position for the head's position to match every timestep. The target position is first defined at a set location in front of the pigeon model $T$ relative to the position of its torso. The target then acts as a static position in the global coordinate for the head to follow. If the distance between the target position and the torso's position goes below a set threshold value, the target is repositioned at the same location $T$ relative to the torso's new position.

\section{Hypothesis Testing}
  For verifying the preliminary hypotheses we compare the behaviors of the pigeon model produced by the baseline control system to those generated by the control system that represents preliminary hypotheses.

  %% description below should assume that we already know the angle of objects within retina
  Preliminary hypotheses for the functionalities of head-bobbing behavior can be depicted using two reward functions, each representing head stabilization ${r_{head\_stabilize}}$ and motion parallax ${r_{motion\_parallax}}$.

  The reward function that represents the hypothesis is described as below.
  \begin{equation}
    {r_{fifty\_fifty}}_t = {r_{head\_stabilize}}_t + {r_{motion\_parallax}}_t
  \end{equation}
  where $r_t$ is the reward at timestep $t$.

  % Hold phase: Head stabilization
  \subsection{Head Stabilization}
    Davies' hypothesis indicate that static objects should be stabilized into one location in the retina for the pigeon to easily determine the moving objects' velocities during the hold phase. In application, the pigeon's head should move in a trajectory that minimizes retinal velocities of objects.

    We define the reward function for head stabilization as,
    \begin{equation}
      {r_{head\_stabilize}}_t = - \sum_i^n |\dot {\theta_i}_t|
    \end{equation}
    where $n$ is the number of objects in the environment and $\dot \theta$ is the angular velocity of each object.

  % Thrust phase: Maximizing motion parallax
  \subsection{Motion Parallax}
    Frost and Davies's hypotheses indicate that differences in distances between objects from the pigeon's retina can be emphasized by inducing motion parallax.
    The sum of the angular velocities of objects relative to each other should be maximized.

    We define the reward function for motion parallax as follows.
    \begin{equation}
      {r_{motion\_parallax}}_t = \sum_i^n \sum_{j \ne i}^n |\dot {\theta_i}_t - \dot {\theta_j}_t|
    \end{equation}


\section{Additional Notable Questions}
  Given our approach, we can see that combining the reward functions for head stabilization and motion parallax would result in a tradeoff between having to lock the position of the head in one place and having to move the head around. Therefore, two more questions need to be addressed: Can hold and thrust phases emerge given such tradeoff? How would optimization algorithms solve this tradeoff?

  % one more paragraph to wrap this up
    If hold and thrust phases were not to emerge, we can deduce that factors aside from the two functionalities are essential to the generation of such behaviors.
    As mentioned before, we are comparing the differences between the trajectories of heads in pigeon models whose controllers are trained by the baseline reward function and those trained by the reward function representing the preliminary hypotheses.
    By utilizing such analysis, we can differentiate functionalities missing in preliminary hypotheses and propose novel hypotheses that incorporate them.
    Additionally, by observing the trajectories of heads, bodies, and limbs in the pigeon models generated by controllers trained using ${r_{fifty\_fifty}}_t$, we can gain explanations regarding possible efficient solutions that maximize the usage of both head stabilization and motion parallax that are not seen in real pigeons.
